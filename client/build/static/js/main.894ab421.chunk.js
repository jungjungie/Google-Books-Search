(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,a,t){},35:function(e,a,t){e.exports=t(71)},40:function(e,a,t){},58:function(e,a,t){},66:function(e,a,t){},69:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(33),o=t.n(l),c=(t(40),t(15)),s=t(7),i=t(13),m=t(16),u=t.n(m),d={getBook:function(e){return u.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},getBooks:function(){return u.a.get("/api/books")},saveBook:function(e){return u.a.post("/api/books",e)},deleteBook:function(e){return u.a.delete("/api/books/"+e)}},h=t(72),g=t(73),E=t(74),p=t(75),f=(t(58),function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)(function(){d.getBooks().then(function(e){return l(e.data)}).catch(function(e){return console.log(e)})},[t]),r.a.createElement(h.a,{expand:"xs",className:"fixed-top shadow-sm border-bottom"},r.a.createElement(g.a,{href:"/",className:"mr-auto"},"Google Books"),r.a.createElement(E.a,{navbar:!0},r.a.createElement(p.a,null,r.a.createElement(c.b,{to:"/search",className:"nav-link"},"Search")),r.a.createElement(p.a,null,r.a.createElement(c.b,{to:"/saved",className:"nav-link"},"Saved ",r.a.createElement("span",{id:"savedNum"},t.length)))))}),k=t(76),b=(t(66),function(){return r.a.createElement("header",null,r.a.createElement(f,null),r.a.createElement(k.a,{className:"text-center"},r.a.createElement("section",{id:"header-section",className:"shadow-sm"},r.a.createElement("h1",null,r.a.createElement("span",{className:"google-blue"},"G"),r.a.createElement("span",{className:"google-red"},"o"),r.a.createElement("span",{className:"google-yellow"},"o"),r.a.createElement("span",{className:"google-blue"},"g"),r.a.createElement("span",{className:"google-green"},"l"),r.a.createElement("span",{className:"google-red"},"e"),r.a.createElement("span",{className:"google-blue"}," Books Search")),r.a.createElement("h4",null,"Search for and Save Books of Interest"))))}),v=t(17),N=t.n(v),B=t(21),w=t(77),x=t(78),S=t(79),I=(t(69),function(e){return r.a.createElement("section",{id:"book-search",className:"shadow-sm"},r.a.createElement("h2",{className:"section-titles"},"Book Search"),r.a.createElement(w.a,{className:"row"},r.a.createElement(x.a,{onChange:e.handleInputChange,type:"text",name:"booksearch",placeholder:"Search by title",className:"searchBox ml-3 col"}),r.a.createElement(S.a,{onClick:e.handleFormSubmit,className:"searchBtn mr-3"},"Search")))}),j=function(e){return r.a.createElement("section",{id:"results"},r.a.createElement("h2",{className:"section-titles"},"Results"),e.children)},O=t(80),y=t(81),C=t(82),F=t(83),W=t(84),_=t(85),D=t(86),L=t(87),G=(t(32),function(e){return r.a.createElement(O.a,{className:"shadow-sm"},r.a.createElement(y.a,null,r.a.createElement(C.a,{className:"no-gutters"},r.a.createElement(F.a,{xs:"12",md:"9"},r.a.createElement(W.a,null,e.title),""===e.authors&&r.a.createElement(_.a,{className:"mb-3"},"Author not available"),""!==e.authors&&r.a.createElement(_.a,{className:"mb-3"},"Written by ",e.authors)),r.a.createElement(F.a,{xs:"12",md:"3"},r.a.createElement("div",{className:"btnWrapper"},r.a.createElement("a",{className:"btn viewBtns",href:e.link,target:"_blank",rel:"noopener noreferrer"},"View"),r.a.createElement(S.a,{onClick:e.saveBook,"data-id":e.id,"data-title":e.title,"data-authors":e.authors,"data-description":e.description,"data-image":e.image,"data-link":e.link,className:"saveBtns ml-3"},"Save")))),r.a.createElement(C.a,{className:"no-gutters"},r.a.createElement(F.a,{xs:"12",md:"2"},""!==e.image&&r.a.createElement(D.a,{className:"img-fluid mt-2 mb-3",src:e.image,alt:e.title})),r.a.createElement(F.a,{xs:"12",md:"10"},r.a.createElement(L.a,{className:"ml-3"},e.description)))))}),J=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)([]),c=Object(i.a)(o,2),s=c[0],m=c[1],u=function(){var e=Object(B.a)(N.a.mark(function e(a){var t,n,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={apiId:a.target.dataset.id,title:a.target.dataset.title,authors:a.target.dataset.authors,description:a.target.dataset.description,image:a.target.dataset.image,link:a.target.dataset.link},console.log(t),e.next=5,h();case 5:n=e.sent,console.log("Book count: ".concat(n.length)),r=0;case 8:if(!(r<n.length)){e.next=16;break}if(console.log(n[r].apiId),n[r].apiId!==t.apiId){e.next=13;break}return alert("Book is already saved!"),e.abrupt("return");case 13:r++,e.next=8;break;case 16:d.saveBook(t).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)});case 18:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),h=function(){var e=Object(B.a)(N.a.mark(function e(){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getBooks();case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{handleInputChange:function(e){l(e.target.value)},handleFormSubmit:function(e){e.preventDefault(),d.getBook(t).then(function(e){console.log(e.data.items);var a=e.data.items.map(function(e){var a=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"";return{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:a,link:e.volumeInfo.infoLink}});console.log(a),m(a)})}}),s.length?r.a.createElement(j,null,s.map(function(e){var a=e.authors?e.authors.join(", "):"";return r.a.createElement(G,{id:e.id,key:e.id,title:e.title,authors:a,description:e.description,image:e.image,link:e.link,saveBook:u})})):r.a.createElement("p",null))},V=function(e){return r.a.createElement("section",{id:"saved-books",className:"shadow-sm"},r.a.createElement("h2",{className:"section-titles"},"Saved Books"),e.children)},q=function(e){return r.a.createElement(O.a,{className:"shadow-sm"},r.a.createElement(y.a,null,r.a.createElement(C.a,{className:"no-gutters"},r.a.createElement(F.a,{xs:"12",md:"9"},r.a.createElement(W.a,null,e.title),r.a.createElement(_.a,{className:"mb-3"},"Written by ",e.authors)),r.a.createElement(F.a,{xs:"12",md:"3"},r.a.createElement("div",{className:"btnWrapper"},r.a.createElement("a",{className:"btn viewBtns",href:e.link,target:"_blank",rel:"noopener noreferrer"},"View"),r.a.createElement(S.a,{onClick:function(){return e.deleteBook(e.id)},"data-title":e.title,"data-authors":e.authors,"data-description":e.description,"data-image":e.image,"data-link":e.link,className:"deleteBtns ml-3"},"Delete")))),r.a.createElement(C.a,{className:"no-gutters"},r.a.createElement(F.a,{xs:"12",md:"2"},""!==e.image&&r.a.createElement(D.a,{className:"img-fluid mt-1 mb-3",src:e.image,alt:e.title})),r.a.createElement(F.a,{xs:"12",md:"10"},r.a.createElement(L.a,{className:"ml-3"},e.description)))))},A=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1];Object(n.useEffect)(function(){o()},[]);var o=function(){d.getBooks().then(function(e){return l(e.data.reverse())}).catch(function(e){return console.log(e)})},c=function(e){d.deleteBook(e).then(function(e){return o()}).catch(function(e){return console.log(e)})};return r.a.createElement(r.a.Fragment,null,t.length?r.a.createElement(V,null,t.map(function(e){return r.a.createElement(q,{id:e._id,key:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link,deleteBook:c})})):r.a.createElement("h2",{className:"section-titles"},"No Books Saved"))};var R=function(){return r.a.createElement(c.a,null,r.a.createElement(b,null),r.a.createElement(k.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:J}),r.a.createElement(s.a,{exact:!0,path:"/search",component:J}),r.a.createElement(s.a,{exact:!0,path:"/saved",component:A})))};t(70);o.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.894ab421.chunk.js.map